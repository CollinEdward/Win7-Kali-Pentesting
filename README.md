# Setting Up Kali Linux and Windows 7 for Penetration Testing in VirtualBox

## Introduction
Penetration testing involves assessing the security of systems by simulating attacks to identify vulnerabilities. In this guide, we'll set up Kali Linux and Windows 7 in VirtualBox to create a controlled environment for penetration testing.

**Important:** Ensure you have explicit permission before testing any system. Unauthorized testing is illegal and unethical.

## Step 1: Download Required Software
### 1.1 Kali Linux
- Visit [Kali Linux Downloads](https://www.kali.org/downloads/).
- Download the pre-built VirtualBox image.

### 1.2 Windows 7
- Go to the [Internet Archive Windows 7 ISO](https://archive.org/details/Windows7-iso).
- Download the ISO file.

### 1.3 VirtualBox
- Access [VirtualBox Downloads](https://www.virtualbox.org/wiki/Downloads).
- Choose and install the version for your operating system.

## Step 2: Install VirtualBox
1. Launch the downloaded VirtualBox installer.
2. Follow the on-screen instructions.
3. Once installed, open VirtualBox.

## Step 3: Create Virtual Machines
### 3.1 Kali Linux
1. Click on **New** to create a VM.
2. Set the VM name (e.g., "Kali Linux"), Type: **Linux**, and Version: **Debian (64-bit)**.
3. Allocate 2-4 GB of RAM and create a new virtual hard disk (20-30 GB).
4. In **Storage**, add the Kali Linux image from Step 1.1.
5. Save the settings.

### 3.2 Windows 7
1. Follow the same steps as above, using "Windows 7" as the VM name.
2. Use the Windows 7 ISO image from Step 1.2.
3. Save the settings.

## Step 4: Configure Network Settings
### 4.1 Kali Linux
1. Go to **Settings** > **Network**.
2. Enable **Adapter 1** and choose:
   - **NAT**: Share the host's IP address for internet access.
   - **Bridged Adapter**: Give the VM a unique IP on the physical network.
   - **Host-only Adapter**: Isolate communication between host and VM.
3. Save changes.

### 4.2 Windows 7
1. Follow the same steps as in Section 4.1.
2. Select the same network mode as for Kali Linux to enable connectivity.

## Step 5: Install Operating Systems
### 5.1 Kali Linux
1. Start the Kali Linux VM.
2. Follow the installation wizard and complete the setup.
3. Reboot the VM.

### 5.2 Windows 7
1. Start the Windows 7 VM.
2. Follow the on-screen instructions to install and configure Windows.

## Step 6: Configure for Penetration Testing
### 6.1 Identify Target IP (LHOST)
1. In Windows 7, open **Command Prompt** (`cmd.exe`).
2. Type `ipconfig` to find the LHOST IP address.

### 6.2 Perform Scans with Kali Linux
Open a terminal in Kali Linux and run the following commands:

1. **Port Scan:**
   ```bash
   nmap -p- <LHOST>
   ```
   Scans all ports on the target.

2. **Service and Version Enumeration:**
   ```bash
   nmap -sV <LHOST>
   ```
   Detects running services and versions.

3. **OS Detection:**
   ```bash
   nmap -O <LHOST>
   ```
   Identifies the operating system.

4. **Vulnerability Scan:**
   ```bash
   nmap --script vuln <LHOST>
   ```
   Scans for known vulnerabilities using Nmap scripts.

5. **Comprehensive Scan:**
   ```bash
   nmap -p- -sV -O --script vuln <LHOST>
   ```
   Combines all previous scans into one command.

### 6.3 Analyze Results
- Review open ports, services, OS details, and vulnerabilities.
- Research vulnerabilities and evaluate potential security risks.

### 6.4 Exploit Vulnerabilities (Optional)
- Use tools like **Metasploit** to exploit identified vulnerabilities.
- **Important:** Only exploit vulnerabilities if you have legal authorization.

## Troubleshooting
### VM Not Starting
- Verify system meets minimum hardware requirements.
- Ensure VirtualBox is up-to-date.
- Check VM settings like memory and storage allocation.

### Network Issues
- Confirm stable host network connection.
- Review VM network settings (NAT, Bridged, etc.).
- Restart VM or network adapter if necessary.

### IP Address Conflict
- Ensure unique IP addresses for host and VM.
- Use **Bridged** or **Host-only** modes to isolate VM networks.

### Compatibility Issues
- Check for compatibility between Kali, Windows 7, and VirtualBox versions.
- Consult documentation or forums for specific issues.

## Conclusion
You have successfully set up a penetration testing environment with Kali Linux and Windows 7 in VirtualBox. Always conduct penetration testing responsibly, following ethical guidelines and legal requirements.

## Glossary
- **Penetration Testing:** Assessing system security by simulating attacks.
- **Virtual Machine (VM):** Software-based emulation of a physical computer.
- **ISO Image:** A file that contains a complete copy of an optical disc.
- **LHOST:** IP address of the machine running penetration testing tools.
- **Nmap:** Open-source network scanning tool.
- **Metasploit Framework:** Toolkit for developing and executing exploits.

## Additional Resources
- [Kali Linux Documentation](https://www.kali.org/docs/)
- [VirtualBox Documentation](https://www.virtualbox.org/manual/)
- [Nmap Documentation](https://nmap.org/book/)
